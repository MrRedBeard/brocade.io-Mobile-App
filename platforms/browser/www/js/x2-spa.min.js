function loadClickListeners(){"use strict";document.addEventListener("click",nav,!1);document.addEventListener("touchstart",nav,!1)}function nav(n){var t=n.target;if(t.parentElement.tagName==="A"&&t.parentElement.getAttribute("href")&&t.parentElement.getAttribute("href").indexOf("#")>-1&&n.type==="click")loadPage(t.parentElement.getAttribute("href").replace("#","")),setTimeout(function(){x2.removeClass(SideBar,"show")}.bind(this),300),MenuOpen=!1;else if(t.tagName==="A"&&t.getAttribute("href")&&t.getAttribute("href").indexOf("#")>-1&&n.type==="click")loadPage(t.getAttribute("href").replace("#","")),setTimeout(function(){x2.removeClass(SideBar,"show")}.bind(this),300),MenuOpen=!1;else return}function getCurrPage(){var t=window.location.href,n=t.split("#");return n.length>1&&n[1]!=="load"?n[1]:null}function loadPage(n){var f,i;let t=n,r=n.indexOf("?"),u="";r>-1&&(u=t.substring(r,t.length),t=t.split("?")[0]);f="views/"+t+".html"+u;let e=document.querySelectorAll(".active");for(i=0;i<e.length;i++)x2.removeClass(e[i],"active");x2.addClass(document.querySelector('.sidebar [href="#'+n+'"]'),"active");setTimeout(function(){x2.ajax({url:f,success:function(t){var r,i;for(history.pushState(null,"","#"+n),document.querySelector(".app").innerHTML=t,r=document.querySelector(".app").getElementsByTagName("script"),i=0;i<r.length;i++)eval(r[i].innerHTML)}.bind(this),error:function(){}})}.bind(this),500)}function MenuOpener(){MenuOpen?(x2.removeClass(SideBar,"show"),MenuOpen=!1):(x2.addClass(SideBar,"show"),MenuOpen=!0)}function MenuCloser(){x2.removeClass(SideBar,"show");MenuOpen=!1}var pageToLoad;(function(){loadClickListeners()})();pageToLoad=getCurrPage();setTimeout(function(){pageToLoad?loadPage(pageToLoad):loadPage("home")},500);var MenuButton=document.querySelector(".menu-button"),MenuClose=document.querySelector(".menu-close"),SideBar=document.querySelector(".sidebar"),BodyTouch=new x2touchEvent("body"),SidebarTouch=new x2touchEvent(".sidebar"),MenuOpen=!1;MenuButton.addEventListener("click",MenuOpener,!1);MenuClose.addEventListener("click",MenuCloser,!1);BodyTouch.onTouchEvent=function(){var n=BodyTouch.touchValues.touchStartX*100/BodyTouch.touchValues.deviceWidth;BodyTouch.touchValues.touchDirection==="right"&&n<=9.7?(x2.addClass(SideBar,"show"),MenuOpen=!0):BodyTouch.touchValues.touchAction==="tap"?(x2.removeClass(SideBar,"show"),MenuOpen=!1):(x2.removeClass(SideBar,"show"),MenuOpen=!1)};SidebarTouch.onTouchEvent=function(){SidebarTouch.touchValues.touchDirection==="left"&&(x2.removeClass(SideBar,"show"),MenuOpen=!1)};class clsSingleMenuItem{constructor(n){this.pageFileName="";this.icon="";this.menuTitle="";typeof n!="undefined"&&(this.pageFileName=n.pageFileName||"",this.icon=n.icon||"",this.menuTitle=n.menuTitle||"")}}class clsDynamicMenu{constructor(n){if(typeof n=="undefined")throw"dynamicMenu.js clsDynamicMenu: options must be defined.";if(this.sideMenuContainer=document.querySelector("dynamicSideMenu"),this.tilesMenuContainer=document.querySelector("dynamicTilesMenu"),this.singleMenuItemArray=[],n.clsSingleMenuItemArray=n.clsSingleMenuItemArray||"",n.clsSingleMenuItemArray!=="")if(Array.isArray(n.clsSingleMenuItemArray)&&n.clsSingleMenuItemArray.length>0)this.cast(n.clsSingleMenuItemArray);else if(typeof n.clsSingleMenuItemArray=="string"&&n.clsSingleMenuItemArray.length>0)n.clsSingleMenuItemArray=JSON.parse(n.clsSingleMenuItemArray),this.cast(n.clsSingleMenuItemArray);else throw"dynamicMenu.js clsDynamicMenu: options.clsSingleMenuItemArray is malformed.";if(this.isDropDown=!1,typeof n.isDropDown!="undefined"&&n.isDropDown&&(this.isDropDown=!0),this.isTiles=!1,typeof n.isTiles!="undefined"&&n.isTiles&&(this.isTiles=!0),this.title=n.title||"",this.UID,this.isDropDown){this.UID=this.title.split(" ").join("");let n=!1;while(!n){let t=this.UID+Math.floor(Math.random()*65).toString();document.querySelector("."+t)===null&&(this.UID=t,n=!0)}}this.constructMenu();loadClickListeners()}constructMenu(){var n;let u=new DOMParser,t;x2.ajax({url:"templates/dynamicMenu.html",success:function(n){t=u.parseFromString(n,"text/html")}.bind(this),error:function(){}});let i=t.querySelector(".SingleURL").innerHTML,r=t.querySelector(".SideMenuSingleItem").innerHTML,f=t.querySelector(".DropdownContainer").innerHTML,e=t.querySelector(".TileContainer").innerHTML;if(this.isDropDown){this.sideMenuContainer.innerHTML=f.split("[Title]").join(this.title).split("[UID]").join(this.UID);let t=this.sideMenuContainer.querySelector(".dropdown-menu");for(n=0;n<this.singleMenuItemArray.length;n++){let r=document.createElement("div");r.innerHTML=i.split("[PageFileName]").join(this.singleMenuItemArray[n].pageFileName).split("[iconClasses]").join(this.singleMenuItemArray[n].icon).split("[PageTitle]").join(this.singleMenuItemArray[n].menuTitle);t.appendChild(r.querySelector("a"))}this.sideMenuContainer.querySelector(".dropdown-toggle").addEventListener("click",function(){this.sideMenuContainer.querySelector(".dropdown").classList.contains("show")?(this.sideMenuContainer.querySelector(".dropdown").classList.remove("show"),this.sideMenuContainer.querySelector(".dropdown-menu").classList.remove("show")):(this.sideMenuContainer.querySelector(".dropdown").classList.add("show"),this.sideMenuContainer.querySelector(".dropdown-menu").classList.add("show"))}.bind(this))}else for(this.sideMenuContainer.innerHTML="",n=0;n<this.singleMenuItemArray.length;n++){let u=i.split("[PageFileName]").join(this.singleMenuItemArray[n].pageFileName).split("[iconClasses]").join(this.singleMenuItemArray[n].icon).split("[PageTitle]").join(this.singleMenuItemArray[n].menuTitle),t=document.createElement("div");t.innerHTML=r.split("[Link]").join(u);this.sideMenuContainer.appendChild(t.querySelector("li"))}if(this.isTiles&&(this.tilesMenuContainer=document.querySelector("dynamicTilesMenu"),typeof this.tilesMenuContainer=="object"))for(this.tilesMenuContainer.innerHTML="",n=0;n<this.singleMenuItemArray.length;n++){let i=e.split("[PageFileName]").join(this.singleMenuItemArray[n].pageFileName).split("[iconClasses]").join(this.singleMenuItemArray[n].icon).split("[PageTitle]").join(this.singleMenuItemArray[n].menuTitle),t=document.createElement("div");t.innerHTML=r.split("[Link]").join(i);this.tilesMenuContainer.appendChild(t.querySelector(".Tile"))}}addMenuItem(){}cast(n){for(var i,t=0;t<n.length;t++){let r=new clsSingleMenuItem;for(i in n[t])r[i]=n[t][i];this.singleMenuItemArray.push(r)}this.singleMenuItemArray.length<=0&&console.log("dynamicMenu.js clsDynamicMenu: options.clsSingleMenuItemArray is malformed or empty.")}}